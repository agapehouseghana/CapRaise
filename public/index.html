<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Fundraiser App" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="./manifest.json" />
    <script src="https://cdn.branch.io/branch-latest.min.js"></script>
    <title>CapRaise</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("./serviceworker.js")
            .then((reg) => console.log("Success: ", reg.scope))
            .catch((err) => console.log("Failure: ", err));
        });
      }
      let deferredPrompt;

      window.addEventListener("beforeinstallprompt", (e) => {
        // Prevent the default browser prompt
        e.preventDefault();
        // Store the event for later use
        deferredPrompt = e;
        // Display your custom install button or banner
        // Show a button or banner to prompt installation
      });

      // Add a click event listener to your install button or banner
      installButton.addEventListener("click", () => {
        // Show the install prompt
        deferredPrompt.prompt();
        // Wait for the user to respond to the prompt
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === "accepted") {
            console.log("User accepted the install prompt");
          } else {
            console.log("User dismissed the install prompt");
          }
          // Clear the deferredPrompt variable
          deferredPrompt = null;
        });
      });
    </script>
  </body>
</html>
